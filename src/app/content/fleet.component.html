
<div class="fleet-container">

  <p-toolbar>
    <div class="ui-toolbar-group-left">
    </div>

    <div class="ui-toolbar-group-right">
      <span class="fleet-stack" pTooltip="add fleet" showDelay="750" (click)="onAddFleet()">
        <i class="fa fa-bus" style="color:#DDDDDD;"></i>
        <i class="fa fa-bus" style="color:#EEEEEE;margin-left:-3px;"></i>
        <i class="fa fa-bus" style="color:#FFFFFF;margin-left:-3px;"></i>
        <i class="fa fa-plus fleet-superscript"></i>
      </span>
      <span class="fleet-stack" pTooltip="add transporter" showDelay="750" (click)="onAddTransporter()">
        <i class="fa fa-bus"></i>
        <i class="fa fa-plus fleet-superscript"></i>
      </span>
      <i class="fa fa-refresh" style="cursor:pointer;" (click)="onRefresh()"></i>
    </div>
  </p-toolbar>

  <p-dataGrid [value]="fleets" emptyMessage="&nbsp;" [rows]="1"
    [hidden]="fleets.length === 0" [@grid-animation]="fleets.length">
    <ng-template let-fleet pTemplate="item">
      <div class="fleet-card" (click)="onFleet(fleet)">
        <p-panel [header]="fleet.name" styleClass="fleet-panel">
          <img src="{{fleet.imageURL}}" width="150" height="125" style="object-fit: cover;">
          <div class="fleet-text">{{fleet.type}}</div>
        </p-panel>
      </div>
    </ng-template>
  </p-dataGrid>

  <div *ngIf="selectedfleet != null">
    <app-fleet-edit [fleetid]="selectedfleet.id"></app-fleet-edit>
  </div>

</div>

<p-dialog [(visible)]="showfleetnew" [modal]="true" [resizable]="true" appendTo="body">
  <p-header>
    add a new fleet
  </p-header>
  <app-fleet-new *ngIf="showfleetnew" (finished)="onFinishedFleetNew()"></app-fleet-new>
</p-dialog>
